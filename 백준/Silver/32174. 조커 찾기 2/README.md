# [Silver III] 조커 찾기 2 - 32174 

[문제 링크](https://www.acmicpc.net/problem/32174) 

### 성능 요약

메모리: 2804 KB, 시간: 24 ms

### 분류

애드 혹, 구현, 수학

### 제출 일자

2024년 8월 31일 15:17:33

### 문제 설명

<p>중앙대학교에 다니는 <a href="/problem/24393">수현이는 타짜 기술을 습득</a>하였다. 이번에는 유튜브에서 마술 기술을 사용하는 영상을 보고 따라 하고 싶어진 수현이는 카드 덱의 맨 위에 조커를 올려두고 카드를 섞어서 원하는 위치로 보내고자 한다.</p>

<p>카드는 총 $N$장이며, 백지 카드 $N − 1$장과 조커 카드 $1$장으로 구성되어 있다. 맨 위쪽 카드를 $1$번, 맨 아래쪽 카드를 $N$번이라고 하자. 처음 상태의 덱에선 조커가 $1$번 위치에 있다.</p>

<p>수현이는 카드를 $M$번 섞으려고 한다. 카드를 섞는 방법은 $3$가지가 있다.</p>

<ul>
	<li><span style="color:#e74c3c;"><code>1</code></span> $x_i$: $N$번 카드를 $1$번 카드 위로 옮긴다. 이 과정을 $x_i$번 반복한다.</li>
	<li><span style="color:#e74c3c;"><code>2</code></span> $y_i$: $1$번 카드를 $N$번 카드 밑으로 옮긴다. 이 과정을 $y_i$번 반복한다.</li>
	<li><span style="color:#e74c3c;"><code>3</code></span> $z_i$: 덱 상태를 <strong>처음 상태 이후 $z_i$번 섞은 뒤의 덱 상태</strong>로 바꾼다. 단, $z_i = 0$이면 처음 상태의 덱으로 바꾼다.
	<ul>
		<li>덱 시점을 되돌리는 것이 아니라, 덱 상태만 바꾸는 것임에 유의하라. </li>
	</ul>
	</li>
</ul>

<p>열심히 카드 섞기 기술을 연마하던 도중, 친구가 찾아와 수현이에게 카드를 $M$번 섞은 후에 조커 카드가 어디에 있는지 물어보았다. 하지만 수현이는 아직 기술을 마스터하지 못했다. 수현이를 위해, 카드 섞기 방법이 주어졌을 때 카드 섞기를 마치고 난 후 조커의 위치가 위에서부터 몇 번째 카드인지 찾아보자.</p>

### 입력 

 <p>첫 번째 줄에 $N$과 $M$이 공백으로 구분되어 주어진다.</p>

<p>그다음 줄부터 $M$개의 줄에 걸쳐 카드 섞는 방법이 주어진다. 그중 $i$번째 줄에는 $i$번째 카드 섞는 방법이 주어진다.</p>

### 출력 

 <p>카드 섞기를 완료했을 때 조커가 덱의 맨 위에서 몇 번째에 있는지 출력한다.</p>

